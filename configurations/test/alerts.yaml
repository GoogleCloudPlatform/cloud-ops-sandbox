# Copyright 2023 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      https://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

app-id: "test"
version: "0.0.1"
alerts:
- name: test-alert-with-notifications
  display-name: "Test alert with notification channel"
  documentation: "Lorem ipsum Lorem ipsum Lorem ipsum"
  notification-channels: [sms-test-channel, pubsub-test-channel]
  conditions:
  - display-name: "test condition 1"
    condition:
      filter: "metric.type=\"monitoring.googleapis.com/uptime_check/check_passed\""
      threshold: 3
      duration: "300s"
      comparison: "COMPARISON_GT"
channels:
- name: sms-test-channel
  display-name: "SMS test channel"
  channel:
    type: sms
    labels:
      number: "1234567890"
- name: email-test-channel
  display-name: "E-mail test channel"
  channel:
    type: email
    labels:
      email_address: "johnsmith@example.com"
- name: pubsub-test-channel
  display-name: "PubSub test channel"
  channel:
    type: pubsub
    labels:
      topic: "projects/unknown/topics/unknown"
